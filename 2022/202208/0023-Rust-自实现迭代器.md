# 0023-Rust-自实现迭代器

## 环境

- Time 2022-05-19
- Rust 1.60.0
- Node 12.22.5
- wasm-pack 0.10.2

## 前言

### 说明

参考：<https://doc.rust-lang.org/std/iter/index.html>

### 目标

针对自定义类型，实现一个迭代器。

## 自定义类型

```rust
#[derive(Default, Debug)]
struct Counter {
    value: usize,
}
```

## 实现迭代器

```rust
impl Iterator for Counter {
    type Item = usize;

    fn next(&mut self) -> Option<Self::Item> {
        self.value += 1;
        if self.value < 5 {
            Some(self.value)
        } else {
            None
        }
    }
}
```

### 使用迭代器

```rust
fn main() {
    let mut counter = Counter::default();
    while let Some(value) = counter.next() {
        println!("value: {value:?}")
    }
}
```

## 总结

针对自定义类型，自己实现了一个迭代器方法。

## 附录
