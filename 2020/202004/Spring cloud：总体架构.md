l# Spring cloud：总体架构

## 环境

1. spring cloud 

## 背景

spring cloud 是基于 spring boot 搭建起来的，下面是官网给出的架构图：

![spring-cloud-overview][1]

这里先做简单介绍，之后将逐步学习其中的各个组件。

## 组件

### Gateway（网关）

流量入口，用户的所有访问请求都需要从这里通过，在这里可以很方便地做一些分流、鉴权等。

### Service registry（服务注册）

服务注册和发现，需要一个服务注册中心，所有的微服务都向该中心进行注册。这样，注册中心就清楚每个服务的地址，服务间调用的时候，就不需要使用地址，而是使用服务名进行调用。

### Breaker（熔断）

限流，熔断和监控等，为了保护微服务而存在。

### Config（配置中心）

每份配置都在自己的服务中，不利于管理，如果服务数量太多，修改配置的工作量巨大，所有建立配置中心，大家所有的配置都到配置中心进行获取。

###  Distributed tracing（分布式追踪）

由于一次请求调用的服务太多，需要有能监控当前请求访问了全部服务的链路，这就是分布式链路追踪。

### Message Broker（消息）

服务间的解耦、通信，可以使用消息队列。

### Database（数据库）

数据库用来保存数据。

[1]:../../images/spring-cloud-overview.png



