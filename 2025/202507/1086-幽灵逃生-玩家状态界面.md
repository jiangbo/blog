# 1086-幽灵逃生-玩家状态界面

## 目标

在 UI 界面上显示玩家的生命值和法力值。

## 环境

- Time 2026-01-11
- Zig 0.15.1

## 参考

1. <https://www.bilibili.com/video/BV1jf9XYQEhW>

## 想法

教程中使用了单独的组件来做。补充了之前没有添加的法力值属性。

## player.zig

只粘贴了绘制相关的部分。

```zig
const backImage = zhu.graphics.imageId("UI/bar_bg.png");
const healthBarImage = zhu.graphics.imageId("UI/bar_red.png");
const healthImage = zhu.graphics.imageId("UI/Red Potion.png");
const manaBarImage = zhu.graphics.imageId("UI/bar_blue.png");
const manaImage = zhu.graphics.imageId("UI/Blue Potion.png");
pub fn drawStats() void {
    const healthPos: zhu.Vector2 = .xy(30, 30);

    var pos = camera.toWorld(healthPos);
    var option: camera.Option = .{
        .scale = .xy(3, 3),
        .anchor = .xy(0, 0.5),
    };

    camera.drawOption(backImage, pos.addX(30), option);
    var percent = zhu.math.percentInt(stats.health, stats.maxHealth);
    option.scale.x = option.scale.x * percent;
    camera.drawOption(healthBarImage, pos.addX(30), option);
    option.scale = .xy(0.5, 0.5);
    camera.drawOption(healthImage, pos, option);

    const manaPos: zhu.Vector2 = .xy(300, 30);

    pos = camera.toWorld(manaPos);
    option = .{ .scale = .xy(3, 3), .anchor = .xy(0, 0.5) };

    camera.drawOption(backImage, pos.addX(30), option);
    percent = zhu.math.percentInt(mana, 100);
    option.scale.x = option.scale.x * percent;
    camera.drawOption(manaBarImage, pos.addX(30), option);
    option.scale = .xy(0.5, 0.5);
    camera.drawOption(manaImage, pos, option);
}
```

## 效果

![玩家状态界面][1]

[1]: images/幽灵逃生19.png

## 附录
