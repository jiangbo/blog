# 1137-阳光岛-显示玩家生命值

## 目标

在屏幕的左上角显示玩家的当前生命值。

## 环境

- Time 2026-01-30
- Zig 0.15.1

## 参考

1. <https://www.bilibili.com/video/BV1jf9XYQEhW>

## 想法

教程中封装了很多的工具类，很多针对 UI 的，我这里要不要对界面进行封装？

## player.zig

只粘贴了绘制生命值的相关代码。

```zig
pub fn draw() void {
    if (hurtTimer.isRunning()) { // 受伤时闪烁效果
        if (hurtTimer.isEvenStep(0.15)) state.draw();
    } else state.draw();

    batch.camera.modeEnum = .window;
    defer batch.camera.modeEnum = .world;

    // 绘制得分
    const pos: zhu.Vector2 = .xy(zhu.window.size.x - 100, 10);
    zhu.text.drawFmt("Score: {}", pos, .{score});

    // 绘制生命值
    const startPos: zhu.Vector2 = .xy(10, 10);
    const healthId = zhu.imageId("textures/UI/Heart.png");
    const backId = zhu.imageId("textures/UI/Heart-bg.png");
    for (0..maxHealth) |index| {
        const imageId = if (index < health) healthId else backId;
        const i: f32 = @floatFromInt(index);
        batch.drawImageId(imageId, startPos.addX(25 * i), .{
            .size = .xy(20, 18), // 图片太大，缩小显示
        });
    }
}
```

## 效果

![显示玩家生命值][1]

[1]: images/阳光岛34.png

## 附录
